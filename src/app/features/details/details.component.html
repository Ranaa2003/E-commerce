<section>
  <div class="container my-5 px-6 lg:px-16">
    <div class="flex items-center gap-4">
      <a
        routerLink="/"
        class="rounded-full p-1 px-2 hover:bg-gray-200 transition-all duration-200"
        ><i class="fas fa-arrow-left text-[var(--text-color)]"></i
      ></a>
      <h2 class="text-2xl my-10 font-semibold text-[var(--text-color)]">
        Product Details
      </h2>
    </div>

    <div
      class="grid gap-10 sm:grid-cols-1 lg:grid-cols-12 lg:gap-10 items-start"
    >
      <div class="flex gap-5 lg:block lg:col-span-5">
        <img
          [src]="selectedImage || productDetails.imageCover"
          class="order-1 h-[60vh] lg:h-auto max-h-[500px] rounded-xl shadow-md mx-auto"
          [alt]="productDetails.title"
        />
        <div class="flex flex-col lg:flex-row justify-evenly overflow-hidden gap-3 mt-4">
          @for (item of productDetails.images; track $index) {
          <img
            class="w-20 h-[90px] rounded-lg cursor-pointer hover:opacity-80 transition border-2"
            [class]="
              selectedImage === item
                ? 'border-[var(--main-color)]'
                : 'border-transparent'
            "
            [src]="item"
            [alt]="productDetails.title"
            (click)="selectImage(item)"
          />

          }
        </div>
      </div>

      <div class="info-section lg:col-span-7 lg:mt-30 space-y-7">
        <h2 class="text-3xl text-[var(--text-color)] font-medium">{{ productDetails.title }}</h2>
        <p class="text-gray-700/70 text-xl my-4 pl-1">
          {{ productDetails.description }}
        </p>
        <h3
          class="text-[var(--second-text)] text-lg font-normal font-['Poppins'] leading-[21px] my-5"
        >
          <span class="bg-amber-300 rounded-lg py-1 px-1">Category :</span>
          {{ productDetails.category.name }}
        </h3>
        <h3
          class="text-[var(--second-text)] text-lg font-normal font-['Poppins'] leading-[21px] my-2"
        >
          <span class="bg-amber-300 rounded-lg py-1 px-1">Brand :</span>
          {{ productDetails.brand.name }}
        </h3>
        <div class="flex justify-between my-3">
          <div class="space-x-3">
            @if (productDetails.priceAfterDiscount==null) {
            <span class="text-[var(--main-color)] text-2xl font-medium leading-9">{{
              productDetails.price | currency
            }}</span>
            } @else {

            <span
              class="text-[#b3b3b3] text-xl font-normal line-through leading-[30px]"
              >{{ productDetails.price | currency }}</span
            >
            <span class="text-[var(--main-color)] text-2xl font-medium leading-9">{{
              productDetails.priceAfterDiscount | currency
            }}</span>
            }
          </div>
          <span class="text-sm"
            ><i class="fas fa-star text-amber-300 pr-1"></i
            >{{ productDetails.ratingsAverage }}</span
          >
        </div>
        <button
          (click)="addProductItemToCart(productDetails._id)"
          class="block cursor-pointer font-medium mt-5 py-2 mx-auto w-3/4 text-white rounded-4xl bg-[var(--main-color)] border-1 hover:border-[var(--main-color)] hover:bg-white hover:text-[var(--main-color)] transition-colors duration-300"
        >
          Add to Cart
        </button>
      </div>
    </div>
  </div>
</section>
